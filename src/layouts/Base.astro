---
import '@/styles/main.css';

interface Props {
  title?: string;
  description?: string;
}

const {
  title = 'API с фильмами, актерами и картинками. Получите доступ к базам фильмов из Kinopoisk и TMDB - Open Movie API',
  description = 'Все популярные источники фильмов в одном API. В базе уже 960 тысяч фильмов, 6 млн персон (актеров, режиссеров ...) и 1 млн изображений к кино',
} = Astro.props;

const siteUrl = 'https://openmoviedb.com';
const ogImages = [
  { url: `${siteUrl}/img/800-600.jpg`, width: 800, height: 600 },
  { url: `${siteUrl}/img/900-800.jpg`, width: 900, height: 800 },
  { url: `${siteUrl}/img/1200-600.jpg`, width: 1200, height: 600 },
  { url: `${siteUrl}/img/1200-630.jpg`, width: 1200, height: 630 },
];
---

<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="canonical" href={siteUrl + '/'} />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={siteUrl + '/'} />
    <meta property="og:title" content="Open Movie API" />
    <meta property="og:description" content={description} />
    <meta property="og:site_name" content="Open Movie API" />
    <meta property="og:locale" content="ru_RU" />
    {ogImages.map((img) => (
      <>
        <meta property="og:image" content={img.url} />
        <meta property="og:image:width" content={String(img.width)} />
        <meta property="og:image:height" content={String(img.height)} />
        <meta property="og:image:alt" content="Open Movie Api" />
        <meta property="og:image:type" content="image/jpeg" />
      </>
    ))}

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Open Movie API" />
    <meta name="twitter:description" content={description} />

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b48d2" />
    <meta name="msapplication-TileColor" content="#080715" />
    <meta name="msapplication-TileImage" content="/mstile-144x144.png" />
    <meta name="theme-color" content="#ffffff" />

    <!-- Preload fonts -->
    <link rel="preload" href="/fonts/PPNeueMachina-InktrapRegular.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="/fonts/PPNeueMachina-InktrapUltrabold.woff2" as="font" type="font/woff2" crossorigin />

    <!-- Yandex.Metrika -->
    <script is:inline>
      (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
      m[i].l=1*new Date();
      for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
      k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
      (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
      ym(92038751, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
      });
    </script>
    <noscript>
      <div><img src="https://mc.yandex.ru/watch/92038751" style="position:absolute; left:-9999px;" alt="" /></div>
    </noscript>
  </head>
  <body>
    <slot />
    <script src="@/scripts/main.ts"></script>
  </body>
</html>
